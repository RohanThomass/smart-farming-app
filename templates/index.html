<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Add this inside <head> -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>


<style>
  body {
    font-family: 'Inter', sans-serif;
  }
</style>

  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Smart Farming Dashboard</title>

  <!-- Bootstrap + Google Fonts -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@400;600;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
 
  <div class="container my-4">
  <button onclick="getLocation()" class="btn btn-primary">
    ğŸ“ Detect My Location
  </button>
  <p id="location-result" class="mt-2 text-success"></p>
</div>


<nav class="navbar navbar-expand-lg navbar-dark bg-success px-3">
  <a class="navbar-brand fw-bold" href="/">ğŸŒ¾ Smart Farming</a>

  <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#mainNavbar">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="mainNavbar">
    <ul class="navbar-nav me-auto mb-2 mb-lg-0">
      <li class="nav-item">
        <a class="nav-link" href="/">Home</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/devices">My Device</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/connect">Connect</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="/feedback">Feedback</a>
      </li>
    </ul>
    <ul class="navbar-nav">
      <li class="nav-item">
        <a class="nav-link btn btn-light text-dark px-3 py-1 rounded" href="/logout">ğŸ”“ Logout</a>
      </li>
    </ul>
  </div>
</nav>


<div class="hero-dashboard d-flex align-items-center justify-content-center text-white text-center">
    <div>
        <h1>Welcome, {{ user_name }}</h1>
        <p>Your smart farming hub at a glance.</p>
    </div>
</div>


  <div class="hero text-white d-flex flex-column justify-content-center align-items-center text-center"
     style="height: 100vh; background: url('/static/images/hero.jpg') center/cover no-repeat;">
  <div class="bg-dark bg-opacity-50 p-5 rounded">
    <h1 class="display-4 fw-bold">Smart Farming Made Simple</h1>
    <p class="lead">Monitor. Predict. Cultivate smarter.</p>
    <a href="/devices" class="btn btn-light mt-3 px-4">Get Started</a>
  </div>
</div>


    <!-- Sensor Cards -->
    <div class="row g-4 mb-4">
      <div class="col-md-4">
        <div class="sensor-card card border-0 shadow-sm p-4 text-center">
          <h5 class="fw-bold">ğŸŒ¡ï¸ Temperature</h5>
          <p id="temp" class="fs-3 text-danger">-- Â°C</p>
        </div>
      </div>
      <div class="col-md-4">
        <div class="sensor-card card border-0 shadow-sm p-4 text-center">
          <h5 class="fw-bold">ğŸ’§ Humidity</h5>
          <p id="humidity" class="fs-3 text-primary">-- %</p>
        </div>
      </div>
      <div class="col-md-4">
        <div class="sensor-card card border-0 shadow-sm p-4 text-center">
          <h5 class="fw-bold">ğŸŒ± Soil Moisture</h5>
          <p id="moisture" class="fs-3 text-success">--</p>
        </div>
      </div>
    </div>

    <!-- Chart -->
    <div class="card shadow-sm p-4">
      <h5 class="mb-3">ğŸ“ˆ Sensor Trends</h5>
      <canvas id="sensorChart" height="100"></canvas>
    </div>
  </div>

  <div class="container mt-5">
  <h3 class="text-center mb-4 fw-bold">ğŸŒ¾ Key Features</h3>
  <div class="row justify-content-center">
    <div class="col-md-4 mb-4">
      <div class="card text-center shadow">
        <img src="{{ url_for('static', filename='images/ai.jpg') }}" class="card-img-top" alt="AI Insights">
        <div class="card-body">
          <h5 class="card-title">AI Insights</h5>
          <p class="card-text">Predict crop health and yields using real-time AI.</p>
          <a href="/ai" class="btn btn-success">Explore</a>
        </div>
      </div>
    </div>
    <div class="col-md-4 mb-4">
      <div class="card text-center shadow">
        <img src="{{ url_for('static', filename='images/market.jpg') }}" class="card-img-top" alt="Market">
        <div class="card-body">
          <h5 class="card-title">Market Prices</h5>
          <p class="card-text">Live updates on crop rates and demands across regions.</p>
          <a href="/market" class="btn btn-success">Check Now</a>
        </div>
      </div>
    </div>
    <div class="col-md-4 mb-4">
      <div class="card text-center shadow">
        <img src="{{ url_for('static', filename='images/sensors.jpg') }}" class="card-img-top" alt="Sensors">
        <div class="card-body">
          <h5 class="card-title">Sensor Dashboard</h5>
          <p class="card-text">Real-time sensor monitoring for your farm health.</p>
          <a href="/sensors" class="btn btn-success">Monitor</a>
        </div>
      </div>
    </div>
  </div>
</div>

    <div class="container-fluid justify-content-center">
    <a href="/logout" class="btn btn-outline-danger btn-sm">Logout</a>
    

  </div>
  </div>
  

<script>
  function getLocation() {
    if (navigator.geolocation) {
      navigator.geolocation.getCurrentPosition(sendLocation, showError);
    } else {
      alert("Geolocation is not supported by your browser.");
    }
  }

  function sendLocation(position) {
    const lat = position.coords.latitude;
    const lon = position.coords.longitude;

    document.getElementById("location-result").textContent =
      `Latitude: ${lat.toFixed(4)}, Longitude: ${lon.toFixed(4)}`;

    fetch("/save-location", {
      method: "POST",
      headers: {
        "Content-Type": "application/json",
      },
      body: JSON.stringify({ latitude: lat, longitude: lon }),
    })
    .then((res) => res.json())
    .then((data) => {
      console.log("Saved:", data);
    });
  }

  function showError(error) {
    alert("Location Error: " + error.message);
  }
</script>


</body>
</html>
<footer class="mt-5">
  &copy; 2025 Smart Farming Project | Built with â¤ï¸ by Rohan
</footer>
